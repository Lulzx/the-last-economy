<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch 13 — The Dual Engine</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=DM+Sans:ital,opsz,wght@0,9..40,100..900;1,9..40,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
body { background: #fafaf8; color: #1a1a1a; font-family: 'DM Sans', system-ui, sans-serif; margin: 0; }
.prose { max-width: 680px; margin: 0 auto; padding: 2rem 1.5rem; font-family: 'DM Sans', system-ui, sans-serif; line-height: 1.7; font-size: 1.05rem; }
.panel { background: white; border: 1px solid #e5e5e0; border-radius: 8px; padding: 1.5rem; margin: 2rem 0; box-shadow: 0 1px 3px rgba(0,0,0,0.08); transition: all 0.2s; }
.panel:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); transform: translateY(-1px); transition: all 0.2s; }
h1 { font-family: 'Playfair Display', Georgia, serif; font-size: clamp(1.8rem, 5vw, 2.6rem); font-weight: 700; margin-bottom: 0.5rem; }
h2 { font-family: 'Playfair Display', Georgia, serif; font-size: 1.3rem; font-weight: 600; margin-top: 2rem; }
h3 { font-family: 'Playfair Display', Georgia, serif; }
.chapter-num { color: #888; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.5rem; }
.nav { display: flex; justify-content: space-between; padding: 1rem 1.5rem; border-bottom: 1px solid #e5e5e0; font-size: 0.9rem; position: sticky; top: 0; background: rgba(250,250,248,0.95); backdrop-filter: blur(8px); z-index: 50; }
.nav a { color: #2563eb; text-decoration: none; }
.nav a:hover { text-decoration: underline; }
svg text { font-family: 'DM Sans', system-ui, sans-serif; }
.btn { background: #2563eb; color: white; border: none; padding: 0.5rem 1.2rem; border-radius: 6px; cursor: pointer; font-size: 0.9rem; margin: 0.25rem; }
.btn:hover { background: #1d4ed8; }
.slider-row { margin: 0.75rem 0; }
.slider-row label { font-size: 0.9rem; font-weight: 600; display: block; margin-bottom: 0.25rem; }
.slider-label { display: flex; justify-content: space-between; font-size: 0.85rem; color: #555; }
input[type="range"] { width: 100%; accent-color: #2563eb; }
.tension-bar { height: 12px; border-radius: 6px; background: linear-gradient(to right, #16a34a, #d97706, #dc2626); margin: 0.5rem 0; position: relative; }
.tension-indicator { position: absolute; top: -4px; width: 20px; height: 20px; border-radius: 50%; background: white; border: 2px solid #1a1a1a; transform: translateX(-50%); transition: left 0.3s; }
.tension-label { text-align: center; font-size: 0.85rem; font-weight: 600; margin-top: 0.5rem; }
.warning-box { background: #fef2f2; border: 1px solid #fecaca; border-radius: 6px; padding: 0.75rem 1rem; font-size: 0.9rem; color: #dc2626; display: none; margin-top: 0.75rem; }
.warning-box.show { display: block; }
.perez-timeline { position: relative; margin: 1rem 0; }
.policy-sim { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 1rem; }
@media (max-width: 600px) { .policy-sim { grid-template-columns: 1fr; } }
.sim-col h3 { font-size: 0.95rem; font-weight: 700; margin: 0 0 0.75rem; }
.sim-result { background: #f5f5f3; border-radius: 6px; padding: 0.75rem; margin-top: 0.75rem; font-size: 0.9rem; }
.sim-result .label { font-size: 0.8rem; color: #888; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.3rem; }
.sim-result .value { font-size: 1.6rem; font-weight: 700; font-family: 'DM Mono', monospace; }
.sim-gap { background: #fef3c7; border: 1px solid #fde68a; border-radius: 6px; padding: 0.6rem 0.8rem; font-size: 0.88rem; color: #92400e; margin-top: 0.75rem; }
.pullquote { border-left: 4px solid #2563eb; margin: 2rem 0; padding: 1rem 1.5rem; background: #eff6ff; border-radius: 0 8px 8px 0; }
.pullquote p { font-size: 1.15rem; font-style: italic; color: #1e40af; margin: 0; }
.pullquote .attribution { font-size: 0.85rem; color: #555; font-style: normal; margin-top: 0.5rem; }
.stat-callout { display: flex; flex-direction: column; align-items: center; padding: 1.5rem; background: white; border: 1px solid #e5e5e0; border-radius: 8px; margin: 1.5rem 0; text-align: center; }
.stat-number { font-family: 'Playfair Display', Georgia, serif; font-size: 3rem; font-weight: 700; color: #2563eb; line-height: 1; }
.stat-label { font-size: 0.9rem; color: #555; margin-top: 0.5rem; }
.section-divider { border: none; border-top: 1px solid #e5e5e0; margin: 3rem 0; }
.stat-row { display: flex; gap: 1rem; flex-wrap: wrap; }
.stat-row .stat-callout { flex: 1; min-width: 180px; }

/* Progress bar */
.progress-bar { position: fixed; top: 0; left: 0; height: 3px; background: #2563eb; z-index: 100; transition: width 0.1s; }

@media (max-width: 640px) {
  .stat-row { flex-direction: column; }
}
</style>
</head>
<body>
<div class="progress-bar" id="progress-bar"></div>
<nav class="nav">
  <a href="ch11-cathedral-bazaar.html">&larr; Previous</a>
  <a href="explorables.html">All Chapters</a>
  <a href="ch14-social-contract.html">Next &rarr;</a>
</nav>

<div class="prose">
  <div class="chapter-num">Chapter 13</div>
  <h1>The Dual Engine</h1>

  <div class="pullquote">
    <p>"We are like sailors who must rebuild their ship on the open sea, never able to dismantle it in dry dock and to reconstruct it there out of the best materials."</p>
    <div class="attribution">&mdash; Otto Neurath</div>
  </div>

  <!-- ============================================ -->
  <!-- SECTION: The Red Queen's Race               -->
  <!-- ============================================ -->
  <h2>The Red Queen's Race</h2>

  <p>In Lewis Carroll's <em>Through the Looking Glass</em>, Alice finds herself in a bizarre country where she must run as fast as she can just to stay in the same place. "If you want to get somewhere else," the Red Queen tells her, "you must run at least twice as fast as that!"</p>

  <p>In 1973, the biologist Leigh Van Valen realized this was not whimsical fiction. It was the most accurate description of evolution ever written. No species ever truly "wins." Every evolutionary advance by a predator is met by a counter-advance from its prey. It is an endless, breathless race to a finish line that is always receding.</p>

  <p>Economics is a Red Queen's race. Companies optimize their strategies for the current market, while the market itself is changing in response to their strategies. Regulators write rules for the last crisis, while the market is busy inventing the next one. Classical economics, with its static, equilibrium models, is blind to this reality. It gives us a photograph of a system that is, in reality, a film.</p>

  <div class="pullquote">
    <p>To understand change, we need a model that can capture the two different timescales of evolution: the fast, frantic race of the players, and the slow, tectonic drift of the game itself. This is the Dual Engine.</p>
  </div>

  <!-- SVG: Red Queen illustration -->
  <svg viewBox="0 0 600 155" style="width:100%;max-width:600px;margin:1.5rem auto;display:block;">
    <defs>
      <radialGradient id="fastGrad" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#fecaca;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#fef2f2;stop-opacity:1"/>
      </radialGradient>
      <radialGradient id="slowGrad" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#bfdbfe;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#eff6ff;stop-opacity:1"/>
      </radialGradient>
      <marker id="arrowR" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
        <path d="M0,0 L8,3 L0,6" fill="#dc2626"/>
      </marker>
      <marker id="arrowB" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
        <path d="M0,0 L8,3 L0,6" fill="#2563eb"/>
      </marker>
    </defs>
    <rect width="600" height="155" fill="#fafaf8" rx="8"/>
    <!-- Runner 1: Fast Players -->
    <circle cx="120" cy="72" r="28" fill="url(#fastGrad)" stroke="#dc2626" stroke-width="2.5"/>
    <!-- Lightning bolt icon inside Fast circle -->
    <text x="120" y="68" text-anchor="middle" font-size="16" fill="#dc2626" font-family="'DM Sans', system-ui, sans-serif">&#9889;</text>
    <text x="120" y="83" text-anchor="middle" font-size="9" fill="#dc2626" font-weight="700" font-family="'DM Sans', system-ui, sans-serif">Fast Players</text>
    <!-- Runner 2: Slow Game -->
    <circle cx="480" cy="72" r="28" fill="url(#slowGrad)" stroke="#2563eb" stroke-width="2.5"/>
    <!-- Clock icon inside Slow circle -->
    <text x="480" y="68" text-anchor="middle" font-size="16" fill="#2563eb" font-family="'DM Sans', system-ui, sans-serif">&#x1F551;</text>
    <text x="480" y="83" text-anchor="middle" font-size="9" fill="#2563eb" font-weight="700" font-family="'DM Sans', system-ui, sans-serif">Slow Game</text>
    <!-- Arrows -->
    <line x1="153" y1="58" x2="447" y2="58" stroke="#dc2626" stroke-width="2" marker-end="url(#arrowR)" stroke-dasharray="5,4"/>
    <line x1="447" y1="86" x2="153" y2="86" stroke="#2563eb" stroke-width="2" marker-end="url(#arrowB)" stroke-dasharray="5,4"/>
    <text x="300" y="50" text-anchor="middle" font-size="10" fill="#dc2626" font-weight="600" font-family="'DM Sans', system-ui, sans-serif">Strategies optimize for current rules</text>
    <text x="300" y="100" text-anchor="middle" font-size="10" fill="#2563eb" font-weight="600" font-family="'DM Sans', system-ui, sans-serif">Rules evolve in response to strategies</text>
    <!-- Treadmill line with repeating pattern -->
    <line x1="50" y1="118" x2="550" y2="118" stroke="#e5e5e0" stroke-width="2.5"/>
    <line x1="70" y1="118" x2="80" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="110" y1="118" x2="120" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="150" y1="118" x2="160" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="190" y1="118" x2="200" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="230" y1="118" x2="240" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="270" y1="118" x2="280" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="310" y1="118" x2="320" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="350" y1="118" x2="360" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="390" y1="118" x2="400" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="430" y1="118" x2="440" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="470" y1="118" x2="480" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <line x1="510" y1="118" x2="520" y2="128" stroke="#e5e5e0" stroke-width="1.5"/>
    <text x="300" y="145" text-anchor="middle" font-size="10" fill="#888" font-style="italic" font-family="'DM Sans', system-ui, sans-serif">The finish line is always receding</text>
  </svg>

  <hr class="section-divider">

  <!-- ============================================ -->
  <!-- SECTION: The Engine Room of History          -->
  <!-- ============================================ -->
  <h2>The Engine Room of History</h2>

  <p>The economy is not one system but two, coupled together in a perpetual, creative feedback loop. They operate at vastly different speeds, and this temporal mismatch is the source of all institutional change, all market crashes, and all human progress.</p>

  <div class="stat-row">
    <div class="stat-callout">
      <div class="stat-number">min&ndash;mo</div>
      <div class="stat-label">Fast Engine timescale: prices, trades, quarterly earnings</div>
    </div>
    <div class="stat-callout">
      <div class="stat-number">yr&ndash;dec</div>
      <div class="stat-label">Slow Engine timescale: norms, beliefs, institutions</div>
    </div>
  </div>

  <p><strong>The Fast Engine: The Market's Game.</strong> This is the visible economy, the one that shrieks from the headlines. Prices adjusting. Trades executing. Companies competing. It is the world of tactics, of quarterly earnings, of finding an edge in the current environment. It operates at the speed of human decision-making, now accelerated to the speed of light. This is the race.</p>

  <p><strong>The Slow Engine: The Evolution of the Game.</strong> This is the invisible economy, the one that shapes history. Norms shifting. Beliefs evolving. Institutions adapting. Technologies maturing. It is the world of strategy, of cultural change, of rewriting the rules that govern the race. It operates at the speed of social learning. This determines the long-term winner.</p>

  <p>The engines are not separate. They are fundamentally coupled. The outcomes of the Fast Engine &mdash; the daily wins and losses &mdash; provide the data that slowly rewrites the code of the Slow Engine. The new code of the Slow Engine then creates a new playing field for the Fast Engine. This is the co-evolutionary dance of history.</p>

  <!-- SVG: Dual Engine feedback loop -->
  <svg viewBox="0 0 600 215" style="width:100%;max-width:600px;margin:1.5rem auto;display:block;">
    <defs>
      <linearGradient id="fastBoxGrad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#fef2f2;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#fee2e2;stop-opacity:1"/>
      </linearGradient>
      <linearGradient id="slowBoxGrad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#eff6ff;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#dbeafe;stop-opacity:1"/>
      </linearGradient>
      <marker id="arrowFast" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
        <path d="M0,0 L8,3 L0,6" fill="#dc2626"/>
      </marker>
      <marker id="arrowSlow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
        <path d="M0,0 L8,3 L0,6" fill="#2563eb"/>
      </marker>
    </defs>
    <rect width="600" height="215" fill="#fafaf8" rx="8"/>
    <!-- Fast Engine box -->
    <rect x="40" y="20" width="210" height="80" rx="10" fill="url(#fastBoxGrad)" stroke="#dc2626" stroke-width="2.5"/>
    <!-- Lightning bolt icon -->
    <text x="60" y="55" font-size="22" fill="#dc2626" font-family="'DM Sans', system-ui, sans-serif">&#9889;</text>
    <text x="155" y="48" text-anchor="middle" font-size="13" font-weight="700" fill="#dc2626" font-family="'DM Sans', system-ui, sans-serif">Fast Engine</text>
    <text x="155" y="64" text-anchor="middle" font-size="11" fill="#b91c1c" font-family="'DM Sans', system-ui, sans-serif">Prices, trades, competition</text>
    <text x="155" y="82" text-anchor="middle" font-size="10" fill="#999" font-family="'DM Sans', system-ui, sans-serif">minutes to months</text>
    <!-- Slow Engine box -->
    <rect x="350" y="115" width="210" height="80" rx="10" fill="url(#slowBoxGrad)" stroke="#2563eb" stroke-width="2.5"/>
    <!-- Gear icon -->
    <text x="370" y="152" font-size="22" fill="#2563eb" font-family="'DM Sans', system-ui, sans-serif">&#9881;</text>
    <text x="455" y="148" text-anchor="middle" font-size="13" font-weight="700" fill="#2563eb" font-family="'DM Sans', system-ui, sans-serif">Slow Engine</text>
    <text x="455" y="164" text-anchor="middle" font-size="11" fill="#1d4ed8" font-family="'DM Sans', system-ui, sans-serif">Norms, beliefs, institutions</text>
    <text x="455" y="182" text-anchor="middle" font-size="10" fill="#999" font-family="'DM Sans', system-ui, sans-serif">years to decades</text>
    <!-- Connecting arrows (thicker, more elegant) -->
    <path d="M250,65 Q350,30 360,125" fill="none" stroke="#dc2626" stroke-width="2.5" stroke-dasharray="6,4" marker-end="url(#arrowFast)"/>
    <text x="335" y="55" text-anchor="middle" font-size="10" fill="#dc2626" font-weight="600" font-family="'DM Sans', system-ui, sans-serif">Outcomes become data</text>
    <path d="M350,150 Q250,185 240,95" fill="none" stroke="#2563eb" stroke-width="2.5" stroke-dasharray="6,4" marker-end="url(#arrowSlow)"/>
    <text x="265" y="178" text-anchor="middle" font-size="10" fill="#2563eb" font-weight="600" font-family="'DM Sans', system-ui, sans-serif">New rules reshape play</text>
  </svg>

  <!-- === Interactive: The Two Clocks === -->
  <div class="panel">
    <h2>The Two Clocks</h2>
    <p style="font-size:0.9rem;color:#555;margin-bottom:0.75rem;">Drag the AI Multiplier to see what happens when the fast clock accelerates beyond the slow clock's ability to keep pace.</p>
    <svg id="clocks-svg" style="width:100%;max-width:600px;" height="200"></svg>

    <div class="slider-row" style="margin-top:1rem;">
      <label>AI Multiplier: <span id="mult-val">1x</span></label>
      <input type="range" id="mult-slider" min="1" max="100" value="1" oninput="updateClocks()">
      <div class="slider-label"><span>1x (baseline)</span><span>100x (AI speed)</span></div>
    </div>

    <div style="margin-top:1rem;">
      <div style="font-size:0.85rem;font-weight:600;color:#555;margin-bottom:0.4rem;">Synchronization Gap</div>
      <div class="tension-bar">
        <div class="tension-indicator" id="tension-ind" style="left:5%"></div>
      </div>
      <div class="tension-label" id="tension-label" style="color:#16a34a;">Synchronized</div>
    </div>

    <div class="warning-box" id="warning-box">
      Institutional Failure Zone — fast systems overwhelm slow adaptive capacity. Markets move faster than regulation can respond. Norms cannot update before the next disruption arrives.
    </div>
  </div>

  <hr class="section-divider">

  <!-- ============================================ -->
  <!-- SECTION: The Lucas Critique                  -->
  <!-- ============================================ -->
  <h2>The Bomb in the Cathedral: The Lucas Critique</h2>

  <p>In 1976, the economist Robert Lucas detonated an intellectual bomb in the heart of the Keynesian establishment. In his Nobel Prize-winning paper, "Econometric Policy Evaluation: A Critique," he introduced the <strong>Lucas Critique</strong>: a polite, academic, and utterly devastating takedown of the entire project of large-scale macroeconomic modeling.</p>

  <p>After Keynes, macroeconomics had become a kind of priesthood. Economists at central banks and treasuries built vast statistical models of the economy, believing they could fine-tune the system like a machine. Lucas pointed out that this was absurd. Intelligent people and firms will <em>anticipate</em> a policy and change their behavior, rendering the model that predicted the policy's effects instantly obsolete.</p>

  <div class="pullquote">
    <p>The moment you try to steer the car, the entire engine reconfigures itself.</p>
  </div>

  <p>The "solution" was the Rational Expectations hypothesis, which assumed that people, on average, are perfect forecasters who understand the true model of the economy. This replaced a flawed assumption with a patently absurd one &mdash; assuming away the very problem of adaptation and learning.</p>

  <p>The Dual Engine model provides the first complete, mechanistic solution. A policy intervention is an action in the <strong>Fast Engine</strong>. But it immediately acts as a new selection pressure in the <strong>Slow Engine</strong>, causing the population of strategies to evolve. Our framework does not assume away this feedback loop; it models it directly.</p>

  <!-- === Interactive: Lucas Critique Simulator === -->
  <div class="panel">
    <h2>The Lucas Critique</h2>
    <p style="font-size:0.9rem;color:#555;">When policymakers change a variable, people anticipate the change and adjust their behavior — invalidating the model used to justify the policy. This is the Lucas Critique: you cannot assume people are passive when they know what you're doing.</p>

    <div class="policy-sim">
      <div>
        <h3>Policy Controls</h3>
        <div class="slider-row">
          <label>Interest Rate: <span id="rate-val">5%</span></label>
          <input type="range" id="rate-slider" min="0" max="20" value="5" oninput="updateLucas()">
        </div>
        <div class="slider-row">
          <label>Money Supply Growth: <span id="money-val">3%</span></label>
          <input type="range" id="money-slider" min="0" max="20" value="3" oninput="updateLucas()">
        </div>
        <div class="slider-row">
          <label>Tax Rate: <span id="tax-val">25%</span></label>
          <input type="range" id="tax-slider" min="10" max="60" value="25" oninput="updateLucas()">
        </div>
        <button class="btn" style="margin-top:0.5rem;font-size:0.85rem;" onclick="resetLucas()">Reset</button>
      </div>
      <div>
        <h3>Outcomes</h3>
        <div class="sim-result">
          <div class="label">Old Model Predicts</div>
          <div class="value" id="model-predict" style="color:#2563eb;">+2.4%</div>
          <div style="font-size:0.8rem;color:#888;">GDP growth</div>
        </div>
        <div class="sim-result">
          <div class="label">Actual Outcome</div>
          <div class="value" id="actual-outcome" style="color:#dc2626;">+1.1%</div>
          <div style="font-size:0.8rem;color:#888;">with behavioral adaptation</div>
        </div>
        <div class="sim-gap" id="lucas-gap">
          Lucas Gap: 1.3pp — people anticipated the policy and optimized against it, invalidating the model.
        </div>
      </div>
    </div>
  </div>

  <hr class="section-divider">

  <!-- ============================================ -->
  <!-- SECTION: The AI Mirror                       -->
  <!-- ============================================ -->
  <h2>The AI Mirror: Inference vs. Training</h2>

  <p>This two-speed dynamic is not a strange feature of human societies. It is a fundamental property of all intelligent, learning systems. We have now built it in silicon.</p>

  <p>An AI like ChatGPT operates with a Dual Engine. The <strong>Fast Engine is Inference</strong>: when you ask it a question, it uses its massive, pre-trained neural network to generate an answer in seconds. The model's weights are frozen. It is simply executing its current strategy.</p>

  <p>The <strong>Slow Engine is Training</strong>: periodically, the entire model is retrained on the vast dataset of its previous successes and failures. This is a slow, colossally expensive process that fundamentally changes the "rules" of the AI's "mind."</p>

  <!-- SVG: Inference vs Training -->
  <svg viewBox="0 0 600 175" style="width:100%;max-width:600px;margin:1.5rem auto;display:block;">
    <defs>
      <linearGradient id="inferGrad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#fef2f2;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#fee2e2;stop-opacity:1"/>
      </linearGradient>
      <linearGradient id="trainGrad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#eff6ff;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#dbeafe;stop-opacity:1"/>
      </linearGradient>
    </defs>
    <rect width="600" height="175" fill="#fafaf8" rx="8"/>
    <!-- Inference column -->
    <rect x="25" y="15" width="255" height="145" rx="10" fill="url(#inferGrad)" stroke="#dc2626" stroke-width="2.5"/>
    <text x="152" y="42" text-anchor="middle" font-size="14" font-weight="700" fill="#dc2626" font-family="'DM Sans', system-ui, sans-serif">Inference (Fast)</text>
    <!-- Speed indicator: fast lines -->
    <line x1="40" y1="58" x2="80" y2="58" stroke="#dc2626" stroke-width="2" opacity="0.4"/>
    <line x1="40" y1="64" x2="70" y2="64" stroke="#dc2626" stroke-width="2" opacity="0.3"/>
    <line x1="40" y1="70" x2="85" y2="70" stroke="#dc2626" stroke-width="2" opacity="0.4"/>
    <text x="152" y="70" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Frozen weights</text>
    <text x="152" y="88" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Answers in seconds</text>
    <text x="152" y="106" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Executes current strategy</text>
    <!-- Larger emoji for visual impact -->
    <text x="152" y="138" text-anchor="middle" font-size="30" fill="#dc2626" font-family="'DM Sans', system-ui, sans-serif">&#9889;</text>
    <!-- Training column -->
    <rect x="320" y="15" width="255" height="145" rx="10" fill="url(#trainGrad)" stroke="#2563eb" stroke-width="2.5"/>
    <text x="448" y="42" text-anchor="middle" font-size="14" font-weight="700" fill="#2563eb" font-family="'DM Sans', system-ui, sans-serif">Training (Slow)</text>
    <!-- Speed indicator: slow waves -->
    <path d="M335,60 Q348,54 360,60 Q372,66 385,60" fill="none" stroke="#2563eb" stroke-width="1.5" opacity="0.4"/>
    <path d="M335,68 Q348,62 360,68 Q372,74 385,68" fill="none" stroke="#2563eb" stroke-width="1.5" opacity="0.3"/>
    <text x="448" y="70" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Updates all weights</text>
    <text x="448" y="88" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Weeks of computation</text>
    <text x="448" y="106" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Rewrites the rules</text>
    <!-- Larger emoji for visual impact -->
    <text x="448" y="138" text-anchor="middle" font-size="30" fill="#2563eb" font-family="'DM Sans', system-ui, sans-serif">&#9881;</text>
  </svg>

  <div class="pullquote">
    <p>The Lucas Critique is what AI engineers call "distributional shift." They have been building systems to handle it for years. Economists are just beginning to catch up.</p>
  </div>

  <hr class="section-divider">

  <!-- ============================================ -->
  <!-- SECTION: Breaking the Cycle                  -->
  <!-- ============================================ -->
  <h2>Breaking the Cycle: The Final Technological Revolution</h2>

  <p>The historian Carlota Perez has shown that technological revolutions follow a predictable pattern: a turbulent "installation period" of financial frenzy and inequality is followed by a stable "deployment period" or "golden age," where the new technology is integrated into society.</p>

  <p>The Dual Engine explains this cycle. The Fast Engine creates the frenzy. The Slow Engine eventually adapts to create the golden age. This pattern has held for steam, for steel, and for the information age.</p>

  <div class="stat-callout">
    <div class="stat-number">6</div>
    <div class="stat-label">Technological revolutions since 1771, each following the same two-phase pattern</div>
  </div>

  <p>But the Intelligence Inversion breaks the cycle. In every previous revolution, the "deployment period" was about creating new institutions and jobs for <em>human managers and knowledge workers</em> to operate the new technological substrate. But AI automates this very cognitive labor. The "deployment" will be carried out by AI itself.</p>

  <div class="pullquote">
    <p>There is no human-led "golden age" to look forward to. With AI, the installation period and the deployment period collapse into a single, permanent phase transition.</p>
  </div>

  <!-- === Interactive: Perez Cycles === -->
  <div class="panel">
    <h2>Carlota Perez Cycles</h2>
    <p style="font-size:0.9rem;color:#555;margin-bottom:0.5rem;">Six technological revolutions, each following the same two-phase pattern. Click the dots to explore each era.</p>
    <svg id="perez-svg" style="width:100%;max-width:600px;" height="220"></svg>
    <div id="perez-info" style="margin-top:0.75rem;min-height:3rem;font-size:0.9rem;color:#333;padding:0.6rem 0.8rem;background:#f5f5f3;border-radius:6px;"></div>
  </div>

  <hr class="section-divider">

  <!-- ============================================ -->
  <!-- SECTION: The Engine of Our Own Destruction   -->
  <!-- ============================================ -->
  <h2>The Engine of Our Own Destruction</h2>

  <p>The Dual Engine also explains why societies often optimize themselves into collapse. The Fast Engine finds the most profitable strategy for the <em>current</em> environment and exploits it. The Slow Engine then hard-codes this successful strategy into the culture and institutions. This works brilliantly &mdash; until the environment changes.</p>

  <p>The success of the American automotive industry in the 1950s is a perfect example. The Fast Engine discovered a winning formula. The Slow Engine then hard-coded it into the DNA of Detroit. When the oil crisis of the 1970s hit, the environment changed overnight. Detroit's Fast Engine could not adapt because its Slow Engine had locked it into a single, now-obsolete strategy. The very things that had made them successful now guaranteed their failure.</p>

  <!-- SVG: Lock-in diagram -->
  <svg viewBox="0 0 600 130" style="width:100%;max-width:600px;margin:1.5rem auto;display:block;">
    <defs>
      <marker id="arrowLock" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
        <polygon points="0 0, 8 3, 0 6" fill="#888"/>
      </marker>
    </defs>
    <rect width="600" height="130" fill="#fafaf8" rx="8"/>
    <rect x="20" y="20" width="130" height="50" rx="8" fill="#d1fae5" stroke="#059669" stroke-width="1.5"/>
    <text x="85" y="42" text-anchor="middle" font-size="10" font-weight="600" fill="#059669" font-family="'DM Sans', system-ui, sans-serif">Success</text>
    <text x="85" y="56" text-anchor="middle" font-size="9" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Fast Engine wins</text>
    <line x1="150" y1="45" x2="190" y2="45" stroke="#888" stroke-width="1.5" marker-end="url(#arrowLock)"/>
    <rect x="195" y="20" width="130" height="50" rx="8" fill="#fef3c7" stroke="#d97706" stroke-width="1.5"/>
    <text x="260" y="42" text-anchor="middle" font-size="10" font-weight="600" fill="#d97706" font-family="'DM Sans', system-ui, sans-serif">Hard-coding</text>
    <text x="260" y="56" text-anchor="middle" font-size="9" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Slow Engine locks in</text>
    <line x1="325" y1="45" x2="365" y2="45" stroke="#888" stroke-width="1.5" marker-end="url(#arrowLock)"/>
    <rect x="370" y="20" width="130" height="50" rx="8" fill="#fee2e2" stroke="#dc2626" stroke-width="1.5"/>
    <text x="435" y="42" text-anchor="middle" font-size="10" font-weight="600" fill="#dc2626" font-family="'DM Sans', system-ui, sans-serif">Environment shifts</text>
    <text x="435" y="56" text-anchor="middle" font-size="9" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Locked strategy fails</text>
    <text x="300" y="100" text-anchor="middle" font-size="10" fill="#888" font-style="italic" font-family="'DM Sans', system-ui, sans-serif">Optimization trap: success breeds rigidity breeds failure</text>
  </svg>

  <p>This self-destructive optimization is driven by a deep psychological gravity: <strong>MIND-State Dependent Discounting</strong>. An agent with a fragile or deficient MIND portfolio &mdash; lacking material security, strong networks, or future options &mdash; is an agent living in a state of survival. They are compelled by their own systemic instability to discount the future heavily, prioritizing the immediate gains of the Fast Engine.</p>

  <div class="pullquote">
    <p>A society with widespread precarity is a society with a structurally high discount rate. By ensuring a baseline of MIND for all, we are not just being equitable; we are engineering a civilization psychologically capable of the long-term thinking required for its own persistence.</p>
  </div>

  <hr class="section-divider">

  <!-- ============================================ -->
  <!-- SECTION: The Physics of the Two Speeds       -->
  <!-- ============================================ -->
  <h2>The Physics of the Two Speeds</h2>

  <p>The existence of the Dual Engine is not an accident. It is a necessary consequence of the physics of information.</p>

  <p>The <strong>Fast Engine</strong> of the market is a system designed for maximum <strong>information exploration</strong>. It is a high-entropy, high-discovery process. The <strong>Slow Engine</strong> of institutions is a system designed for information exploitation and compression. It takes successful discoveries and hard-codes them into low-cost routines. A social norm is a highly compressed algorithm for successful behavior.</p>

  <!-- SVG: Exploration vs Exploitation -->
  <svg viewBox="0 0 600 165" style="width:100%;max-width:600px;margin:1.5rem auto;display:block;">
    <defs>
      <linearGradient id="exploreGrad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#fef2f2;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#fee2e2;stop-opacity:1"/>
      </linearGradient>
      <linearGradient id="exploitGrad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#eff6ff;stop-opacity:1"/>
        <stop offset="100%" style="stop-color:#dbeafe;stop-opacity:1"/>
      </linearGradient>
    </defs>
    <rect width="600" height="165" fill="#fafaf8" rx="8"/>
    <!-- Exploration side -->
    <rect x="25" y="15" width="255" height="135" rx="10" fill="url(#exploreGrad)" stroke="#dc2626" stroke-width="2.5"/>
    <text x="152" y="42" text-anchor="middle" font-size="14" font-weight="700" fill="#dc2626" font-family="'DM Sans', system-ui, sans-serif">Exploration</text>
    <text x="152" y="62" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">High entropy</text>
    <text x="152" y="80" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">High discovery</text>
    <text x="152" y="98" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Market experimentation</text>
    <text x="152" y="126" text-anchor="middle" font-size="12" fill="#dc2626" font-weight="700" font-family="'DM Sans', system-ui, sans-serif">Fast Engine</text>
    <!-- Exploitation side -->
    <rect x="320" y="15" width="255" height="135" rx="10" fill="url(#exploitGrad)" stroke="#2563eb" stroke-width="2.5"/>
    <text x="448" y="42" text-anchor="middle" font-size="14" font-weight="700" fill="#2563eb" font-family="'DM Sans', system-ui, sans-serif">Exploitation</text>
    <text x="448" y="62" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Low entropy</text>
    <text x="448" y="80" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Low cost routines</text>
    <text x="448" y="98" text-anchor="middle" font-size="11" fill="#666" font-family="'DM Sans', system-ui, sans-serif">Institutional compression</text>
    <text x="448" y="126" text-anchor="middle" font-size="12" fill="#2563eb" font-weight="700" font-family="'DM Sans', system-ui, sans-serif">Slow Engine</text>
  </svg>

  <p>A living, intelligent economy must have both. The tension between them is the very definition of a learning system. Understanding this dynamic is the first step toward designing institutions that can actually navigate the unprecedented speed of the AI-driven world &mdash; which is the core challenge of our Symbiotic Blueprint.</p>

</div>

<script>
// ========== Progress Bar ==========
window.addEventListener('scroll', () => {
  const p = document.documentElement;
  document.getElementById('progress-bar').style.width = (p.scrollTop / (p.scrollHeight - p.clientHeight) * 100) + '%';
});

// --- Clock animation ---
let clockFrame = null;
let multValue = 1;
let fastAngle = 0;
let slowAngle = 0;
let lastTime = null;

function drawClock(svg, cx, cy, r, angle, label, color, small) {
  svg.append('circle').attr('cx', cx).attr('cy', cy).attr('r', r)
    .attr('fill', 'white').attr('stroke', '#e5e5e0').attr('stroke-width', 2);

  // Tick marks
  for (let i = 0; i < 12; i++) {
    const a = (i / 12) * Math.PI * 2 - Math.PI / 2;
    const r1 = r * 0.85, r2 = r;
    svg.append('line')
      .attr('x1', cx + Math.cos(a) * r1).attr('y1', cy + Math.sin(a) * r1)
      .attr('x2', cx + Math.cos(a) * r2).attr('y2', cy + Math.sin(a) * r2)
      .attr('stroke', '#e5e5e0').attr('stroke-width', 1);
  }

  // Hour hand
  const ha = angle - Math.PI / 2;
  svg.append('line').attr('class', 'hand-' + (small ? 'slow' : 'fast'))
    .attr('x1', cx).attr('y1', cy)
    .attr('x2', cx + Math.cos(ha) * r * 0.55).attr('y2', cy + Math.sin(ha) * r * 0.55)
    .attr('stroke', color).attr('stroke-width', 3).attr('stroke-linecap', 'round');

  // Minute hand
  const ma = (angle * 12) - Math.PI / 2;
  svg.append('line').attr('class', 'mhand-' + (small ? 'slow' : 'fast'))
    .attr('x1', cx).attr('y1', cy)
    .attr('x2', cx + Math.cos(ma) * r * 0.75).attr('y2', cy + Math.sin(ma) * r * 0.75)
    .attr('stroke', color).attr('stroke-width', 2).attr('stroke-linecap', 'round').attr('opacity', 0.7);

  // Center dot
  svg.append('circle').attr('cx', cx).attr('cy', cy).attr('r', 4).attr('fill', color);

  // Label
  svg.append('text').attr('x', cx).attr('y', cy + r + 18)
    .attr('text-anchor', 'middle').attr('font-size', 11).attr('font-weight', 600).attr('fill', color)
    .text(label);
}

function renderClocks(fastA, slowA) {
  const svgEl = document.getElementById('clocks-svg');
  const w = svgEl.clientWidth || 600;
  const h = 200;
  const svg = d3.select('#clocks-svg').attr('height', h);
  svg.selectAll('*').remove();

  const r = Math.min(w / 5, 70);
  const fastCx = w * 0.3, slowCx = w * 0.7, cy = h / 2 - 10;

  drawClock(svg, fastCx, cy, r, fastA, 'Markets / Prices', '#dc2626', false);
  svg.append('text').attr('x', fastCx).attr('y', cy - r - 8)
    .attr('text-anchor', 'middle').attr('font-size', 10).attr('fill', '#888').text('Fast Clock');

  drawClock(svg, slowCx, cy, r, slowA, 'Institutions / Norms', '#2563eb', true);
  svg.append('text').attr('x', slowCx).attr('y', cy - r - 8)
    .attr('text-anchor', 'middle').attr('font-size', 10).attr('fill', '#888').text('Slow Clock');
}

function animateClocks(ts) {
  if (!lastTime) lastTime = ts;
  const dt = (ts - lastTime) / 1000;
  lastTime = ts;
  fastAngle += dt * multValue * 0.8;
  slowAngle += dt * 0.05;
  renderClocks(fastAngle, slowAngle);
  clockFrame = requestAnimationFrame(animateClocks);
}

function updateClocks() {
  multValue = parseInt(document.getElementById('mult-slider').value);
  document.getElementById('mult-val').textContent = multValue + 'x';
  const pct = ((multValue - 1) / 99) * 100;
  document.getElementById('tension-ind').style.left = Math.min(95, pct) + '%';

  if (multValue >= 70) {
    document.getElementById('tension-label').textContent = 'Institutional Failure Zone';
    document.getElementById('tension-label').style.color = '#dc2626';
    document.getElementById('warning-box').classList.add('show');
  } else if (multValue >= 30) {
    document.getElementById('tension-label').textContent = 'Growing Synchronization Gap';
    document.getElementById('tension-label').style.color = '#d97706';
    document.getElementById('warning-box').classList.remove('show');
  } else {
    document.getElementById('tension-label').textContent = 'Synchronized';
    document.getElementById('tension-label').style.color = '#16a34a';
    document.getElementById('warning-box').classList.remove('show');
  }
}

requestAnimationFrame(ts => {
  renderClocks(0, 0);
  lastTime = ts;
  clockFrame = requestAnimationFrame(animateClocks);
});

// --- Perez Cycles ---
const perezData = [
  { year: 1771, label: 'Industrial Revolution', install: 'Water power, textiles, iron', deploy: 'Factory system, canal networks, coal expansion', color: '#7c3aed' },
  { year: 1829, label: 'Steam & Railways', install: 'Speculative railway mania, steam engines', deploy: 'Victorian prosperity, railway networks, global trade', color: '#0891b2' },
  { year: 1875, label: 'Steel & Electricity', install: 'Gilded Age speculation, steel overbuilding', deploy: 'Electrification, mass production, urban growth', color: '#059669' },
  { year: 1908, label: 'Oil & Automobiles', install: 'Roaring Twenties speculation, overproduction', deploy: 'Fordism, suburbia, consumer society, highways', color: '#d97706' },
  { year: 1971, label: 'IT & Telecoms', install: 'Dot-com bubble, financial casino', deploy: 'Internet economy, globalization, smartphones', color: '#dc2626' },
  { year: 2007, label: 'AI & Intelligent Networks', install: 'We are here: LLM speculation, AI race', deploy: 'Unknown — depends on choices made now', color: '#1a1a1a', current: true }
];

function renderPerez() {
  const svgEl = document.getElementById('perez-svg');
  const w = svgEl.clientWidth || 600;
  const h = 220;
  const svg = d3.select('#perez-svg').attr('height', h);
  svg.selectAll('*').remove();

  const xS = d3.scaleLinear().domain([1750, 2035]).range([30, w - 30]);
  const cy = h / 2;

  // Timeline line
  svg.append('line').attr('x1', 30).attr('y1', cy).attr('x2', w - 30).attr('y2', cy)
    .attr('stroke', '#e5e5e0').attr('stroke-width', 2);

  // Phases band
  perezData.forEach((d, i) => {
    const x1 = xS(d.year);
    const x2 = i < perezData.length - 1 ? xS(perezData[i+1].year) : xS(2035);
    const installW = (x2 - x1) * 0.45;
    const deployW = (x2 - x1) * 0.45;

    svg.append('rect').attr('x', x1).attr('y', cy - 25).attr('width', installW).attr('height', 20)
      .attr('fill', d.color).attr('opacity', d.current ? 0.3 : 0.12).attr('rx', 2);
    svg.append('text').attr('x', x1 + installW/2).attr('y', cy - 12)
      .attr('text-anchor', 'middle').attr('font-size', 8).attr('fill', d.color).text('Install');

    if (!d.current) {
      svg.append('rect').attr('x', x1 + installW + 4).attr('y', cy + 5).attr('width', deployW).attr('height', 20)
        .attr('fill', d.color).attr('opacity', 0.12).attr('rx', 2);
      svg.append('text').attr('x', x1 + installW + 4 + deployW/2).attr('y', cy + 18)
        .attr('text-anchor', 'middle').attr('font-size', 8).attr('fill', d.color).text('Deploy');
    }
  });

  // Dots
  svg.selectAll('.perez-dot').data(perezData).join('circle').attr('class', 'perez-dot')
    .attr('cx', d => xS(d.year)).attr('cy', cy)
    .attr('r', d => d.current ? 8 : 6)
    .attr('fill', d => d.color)
    .attr('stroke', 'white').attr('stroke-width', 2)
    .style('cursor', 'pointer')
    .on('click', (event, d) => {
      document.getElementById('perez-info').innerHTML = `<strong style="color:${d.color}">${d.year}: ${d.label}</strong><br><span style="color:#555;">Installation: ${d.install}</span><br><span style="color:#555;">Deployment: ${d.deploy}</span>`;
    });

  // Year labels
  svg.selectAll('.perez-year').data(perezData).join('text').attr('class', 'perez-year')
    .attr('x', d => xS(d.year)).attr('y', cy + 38)
    .attr('text-anchor', 'middle').attr('font-size', 9).attr('fill', d => d.color).attr('font-weight', 600)
    .text(d => d.year);

  // "You are here" marker
  const current = perezData[perezData.length - 1];
  svg.append('text').attr('x', xS(current.year)).attr('y', cy - 38)
    .attr('text-anchor', 'middle').attr('font-size', 9).attr('fill', '#1a1a1a').attr('font-weight', 700)
    .text('\u2190 You are here');

  document.getElementById('perez-info').textContent = 'Click any dot to explore that technological revolution.';
}

requestAnimationFrame(renderPerez);
window.addEventListener('resize', renderPerez);

// --- Lucas Critique Simulator ---
function updateLucas() {
  const rate = parseInt(document.getElementById('rate-slider').value);
  const money = parseInt(document.getElementById('money-slider').value);
  const tax = parseInt(document.getElementById('tax-slider').value);

  document.getElementById('rate-val').textContent = rate + '%';
  document.getElementById('money-val').textContent = money + '%';
  document.getElementById('tax-val').textContent = tax + '%';

  // Old model prediction (naive)
  const modelPred = (money * 0.3 - rate * 0.15 - (tax - 25) * 0.08).toFixed(1);
  // Actual outcome (people adapt, so effect is dampened + distorted)
  const adaptation = Math.abs(money - 5) * 0.1 + Math.abs(rate - 5) * 0.08;
  const actual = (parseFloat(modelPred) * (0.4 + Math.random() * 0.1) - adaptation * 0.5).toFixed(1);
  const gap = (parseFloat(modelPred) - parseFloat(actual)).toFixed(1);

  document.getElementById('model-predict').textContent = (parseFloat(modelPred) >= 0 ? '+' : '') + modelPred + '%';
  document.getElementById('actual-outcome').textContent = (parseFloat(actual) >= 0 ? '+' : '') + actual + '%';
  document.getElementById('lucas-gap').textContent = `Lucas Gap: ${gap}pp \u2014 people anticipated the policy and optimized against it, invalidating the model. The larger the policy change, the larger the gap.`;
}

function resetLucas() {
  document.getElementById('rate-slider').value = 5;
  document.getElementById('money-slider').value = 3;
  document.getElementById('tax-slider').value = 25;
  updateLucas();
}

updateLucas();
</script>
</body>
</html>
