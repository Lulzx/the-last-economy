<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction — The Thousand-Day Window</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=DM+Sans:ital,opsz,wght@0,9..40,100..900;1,9..40,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
body { background: #fafaf8; color: #1a1a1a; font-family: 'DM Sans', system-ui, sans-serif; margin: 0; }
.prose { max-width: 680px; margin: 0 auto; padding: 2rem 1.5rem; font-family: 'DM Sans', system-ui, sans-serif; line-height: 1.7; font-size: 1.05rem; }
.panel { background: white; border: 1px solid #e5e5e0; border-radius: 8px; padding: 1.5rem; margin: 2rem 0; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
h1 { font-family: 'Playfair Display', Georgia, serif; font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; }
h2 { font-family: 'Playfair Display', Georgia, serif; font-size: 1.3rem; font-weight: 600; margin-top: 2rem; }
.chapter-num { color: #888; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.5rem; }
.nav { display: flex; justify-content: space-between; padding: 1rem 1.5rem; border-bottom: 1px solid #e5e5e0; font-size: 0.9rem; }
.nav a { color: #2563eb; text-decoration: none; }
.nav a:hover { text-decoration: underline; }
.nav .disabled { color: #ccc; cursor: default; pointer-events: none; }
svg text { font-family: 'DM Sans', system-ui, sans-serif; }
.btn { background: #2563eb; color: white; border: none; padding: 0.5rem 1.2rem; border-radius: 6px; cursor: pointer; font-size: 0.9rem; margin: 0.25rem; font-family: 'DM Sans', system-ui, sans-serif; }
.btn:hover { background: #1d4ed8; }
.btn.secondary { background: #f5f5f3; color: #1a1a1a; border: 1px solid #e5e5e0; }
.btn.secondary:hover { background: #e5e5e0; }
.btn.active { background: #2563eb; color: white; outline: none; }
.dash-toggle { display: flex; gap: 0.5rem; margin-bottom: 1rem; }
.two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.futures-grid { display: flex; flex-direction: column; gap: 0.75rem; margin-top: 1rem; }
.future-card { border: 1px solid #e5e5e0; border-radius: 8px; padding: 1rem; cursor: pointer; transition: all 0.3s ease; }
.future-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
.future-card.open { box-shadow: 0 4px 12px rgba(0,0,0,0.12); }
.future-card .fc-header { display: flex; justify-content: space-between; align-items: center; }
.future-card .fc-title { font-family: 'Playfair Display', Georgia, serif; font-weight: 700; font-size: 1.05rem; }
.future-card .fc-desc { font-size: 0.9rem; color: #555; margin-top: 0.25rem; }
.future-card .fc-details { display: none; margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid #f0f0ed; }
.future-card .fc-details.open { display: block; }
.future-card .fc-details ul { margin: 0; padding-left: 1.2rem; font-size: 0.9rem; color: #333; line-height: 1.8; }
.future-card .fc-toggle { font-size: 1.2rem; color: #999; transition: transform 0.3s ease; }
.future-card.open .fc-toggle { transform: rotate(45deg); }
.countdown-number { font-family: 'Playfair Display', Georgia, serif; font-size: 4rem; font-weight: 700; text-align: center; color: #1a1a1a; line-height: 1; padding: 1rem 0; }
.countdown-label { text-align: center; font-size: 0.85rem; color: #888; letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 1rem; }
.progress-wrap { background: #f0f0ed; border-radius: 4px; height: 8px; margin: 1rem 0 0.5rem; overflow: hidden; }
.progress-bar { height: 100%; border-radius: 4px; background: #2563eb; transition: width 0.5s; }
.progress-labels { display: flex; justify-content: space-between; font-size: 0.8rem; color: #888; }
.note { font-size: 0.85rem; color: #888; font-style: italic; margin-top: 1rem; text-align: center; }
input[type=range] { accent-color: #2563eb; }
@media (max-width: 600px) {
  .two-col { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<nav class="nav">
  <span class="disabled">&larr; Previous</span>
  <a href="explorables.html">All Chapters</a>
  <a href="01-intelligence-inversion.html">Next &rarr;</a>
</nav>

<div class="prose">
  <div class="chapter-num">Introduction</div>
  <h1>The Thousand-Day Window</h1>

  <p>We are living through the most important economic transition in human history. Not a recession. Not a cycle. A phase transition — irreversible, unprecedented, and underway. The window to shape it is roughly one thousand days.</p>

  <p>The instruments we use to navigate this transition were built for a different world. GDP measures transactions, not wellbeing. Employment statistics count jobs, not purpose. Financial markets price the next quarter, not the next generation. We are steering through a phase transition using instruments calibrated for smooth seas.</p>

  <div class="panel">
    <h2>The Two Dashboards</h2>
    <div class="dash-toggle">
      <button class="btn active" id="btn-official" onclick="showDash('official')">Official Dashboard</button>
      <button class="btn secondary" id="btn-human" onclick="showDash('human')">Human Reality Dashboard</button>
    </div>
    <div class="two-col" id="dashboard-charts">
      <div>
        <div style="font-size:0.85rem;font-weight:600;color:#555;margin-bottom:0.5rem;" id="left-label">Stock Market Index</div>
        <svg id="left-chart" style="width:100%;max-width:600px;" height="130"></svg>
      </div>
      <div>
        <div style="font-size:0.85rem;font-weight:600;color:#555;margin-bottom:0.5rem;" id="right-label">Life Satisfaction Score</div>
        <svg id="right-chart" style="width:100%;max-width:600px;" height="130"></svg>
      </div>
    </div>
    <p style="font-size:0.9rem;color:#555;margin-top:1rem;">The official dashboard shows a world on the rise. The human reality dashboard shows a world where the numbers no longer map to lived experience. Both are accurate. Neither is the whole picture.</p>
  </div>

  <div class="panel">
    <h2>The Three Futures</h2>
    <p style="font-size:0.9rem;color:#555;margin-bottom:1rem;">Three attractors exist in phase space. Every decision we make in the next thousand days moves us toward one of them. Click each to expand.</p>
    <div class="futures-grid">

      <div class="future-card" id="fc-1" onclick="toggleFuture('fc-1')" style="border-left: 4px solid #dc2626;">
        <div class="fc-header">
          <div>
            <div class="fc-title" style="color:#dc2626;">Digital Feudalism</div>
            <div class="fc-desc">AI controlled by the few. Subsistence for the many.</div>
          </div>
          <div class="fc-toggle">+</div>
        </div>
        <div class="fc-details" id="fc-1-details">
          <ul>
            <li>A handful of AI firms become the new landlords — owning the cognitive infrastructure everyone depends on</li>
            <li>Universal Basic Income provides subsistence but not agency — users, not creators</li>
            <li>Democracy survives in form but not function: voting on questions the algorithm has already decided</li>
          </ul>
        </div>
      </div>

      <div class="future-card" id="fc-2" onclick="toggleFuture('fc-2')" style="border-left: 4px solid #d97706;">
        <div class="fc-header">
          <div>
            <div class="fc-title" style="color:#d97706;">The Great Fragmentation</div>
            <div class="fc-desc">National AI silos. An algorithmic cold war.</div>
          </div>
          <div class="fc-toggle">+</div>
        </div>
        <div class="fc-details" id="fc-2-details">
          <ul>
            <li>Each major power builds its own AI stack — incompatible, adversarial, optimized for dominance not flourishing</li>
            <li>Global problems (climate, pandemics, coordination failures) become unsolvable as the substrate of cooperation fragments</li>
            <li>Intelligence becomes a weapon before it becomes a tool — and the race dynamic makes pause impossible</li>
          </ul>
        </div>
      </div>

      <div class="future-card" id="fc-3" onclick="toggleFuture('fc-3')" style="border-left: 4px solid #16a34a;">
        <div class="fc-header">
          <div>
            <div class="fc-title" style="color:#16a34a;">Human Symbiosis</div>
            <div class="fc-desc">AI amplifies human purpose. Intelligence as commons.</div>
          </div>
          <div class="fc-toggle">+</div>
        </div>
        <div class="fc-details" id="fc-3-details">
          <ul>
            <li>Foundational AI models become public infrastructure — like roads, not toll bridges</li>
            <li>Each person has a sovereign AI agent, cryptographically theirs alone, amplifying their unique capabilities</li>
            <li>Work transforms from survival mechanism to meaning mechanism — the machine handles the drudgery, humans handle the humanity</li>
          </ul>
        </div>
      </div>

    </div>
  </div>

  <div class="panel">
    <h2>The Countdown</h2>
    <div class="countdown-number" id="countdown-num">847</div>
    <div class="countdown-label">Days remaining in the critical window</div>
    <div class="progress-wrap">
      <div class="progress-bar" id="progress-bar" style="width:0%"></div>
    </div>
    <div class="progress-labels">
      <span>Day 0 — Window Opens</span>
      <span>Day 1000 — Phase Lock</span>
    </div>
    <p class="note">Not a prediction of apocalypse. An estimation of when the phase transition becomes irreversible — when the attractor basins are too deep to climb out of without civilization-scale effort.</p>
  </div>

</div>

<script>
// --- Two Dashboards ---
const dashboards = {
  official: {
    left: { label: 'Stock Market Index', data: [100,108,115,112,122,130,128,138,145,152,160,172], color: '#16a34a', direction: 'up' },
    right: { label: 'GDP Growth Rate (%)', data: [2.1,2.3,2.0,2.4,2.6,2.2,2.5,2.8,2.4,2.7,3.0,2.9], color: '#2563eb', direction: 'up' }
  },
  human: {
    left: { label: 'Life Satisfaction Score', data: [7.2,7.1,7.0,6.9,6.85,6.8,6.7,6.65,6.5,6.4,6.3,6.2], color: '#dc2626', direction: 'down' },
    right: { label: 'Deaths of Despair (index)', data: [100,106,112,118,126,133,141,150,158,167,176,186], color: '#d97706', direction: 'up-bad' }
  }
};

let currentDash = 'official';

function showDash(type) {
  currentDash = type;
  document.getElementById('btn-official').className = type === 'official' ? 'btn active' : 'btn secondary';
  document.getElementById('btn-human').className = type === 'human' ? 'btn active' : 'btn secondary';
  renderDashboard(type);
}

function renderChart(svgId, labelId, config) {
  const el = document.getElementById(svgId);
  const w = el.parentElement.clientWidth || 280;
  const h = 130;
  el.setAttribute('width', w);
  el.setAttribute('height', h);
  document.getElementById(labelId).textContent = config.label;

  const svg = d3.select('#' + svgId);
  svg.selectAll('*').remove();

  const data = config.data.map((v, i) => ({ i, v }));
  const xS = d3.scaleLinear().domain([0, data.length - 1]).range([8, w - 8]);
  const ext = d3.extent(data, d => d.v);
  const pad = (ext[1] - ext[0]) * 0.2;
  const yS = d3.scaleLinear().domain([ext[0] - pad, ext[1] + pad]).range([h - 12, 12]);

  const area = d3.area().x(d => xS(d.i)).y0(h - 12).y1(d => yS(d.v)).curve(d3.curveBasis);
  const line = d3.line().x(d => xS(d.i)).y(d => yS(d.v)).curve(d3.curveBasis);

  svg.append('path').datum(data).attr('d', area)
    .attr('fill', config.color).attr('fill-opacity', 0.08);

  const path = svg.append('path').datum(data).attr('d', line)
    .attr('fill', 'none').attr('stroke', config.color).attr('stroke-width', 2.5);

  const totalLen = path.node().getTotalLength();
  path.attr('stroke-dasharray', totalLen).attr('stroke-dashoffset', totalLen)
    .transition().duration(800).attr('stroke-dashoffset', 0);

  // Last point dot
  const last = data[data.length - 1];
  svg.append('circle').attr('cx', xS(last.i)).attr('cy', yS(last.v)).attr('r', 4)
    .attr('fill', config.color).attr('opacity', 0)
    .transition().delay(700).duration(300).attr('opacity', 1);
}

function renderDashboard(type) {
  const d = dashboards[type];
  renderChart('left-chart', 'left-label', d.left);
  renderChart('right-chart', 'right-label', d.right);
}

// --- Future cards toggle ---
function toggleFuture(id) {
  const card = document.getElementById(id);
  const details = document.getElementById(id + '-details');
  const isOpen = card.classList.contains('open');
  // Close all
  ['fc-1','fc-2','fc-3'].forEach(fid => {
    document.getElementById(fid).classList.remove('open');
    document.getElementById(fid + '-details').classList.remove('open');
  });
  if (!isOpen) {
    card.classList.add('open');
    details.classList.add('open');
  }
}

// --- Countdown ---
// Window opens 2024-01-01, 1000 days = ~2026-09-27
const windowStart = new Date('2024-01-01T00:00:00Z');
const windowEnd = new Date(windowStart.getTime() + 1000 * 24 * 3600 * 1000);

function updateCountdown() {
  const now = new Date();
  const remaining = Math.max(0, Math.ceil((windowEnd - now) / (24 * 3600 * 1000)));
  const elapsed = 1000 - remaining;
  const pct = Math.min(100, (elapsed / 1000) * 100);
  document.getElementById('countdown-num').textContent = remaining.toLocaleString();
  document.getElementById('progress-bar').style.width = pct.toFixed(1) + '%';
}

updateCountdown();
setInterval(updateCountdown, 1000);

// Init dashboard
requestAnimationFrame(() => renderDashboard('official'));
</script>
</body>
</html>
